<ion-header class="fondo">
  <ion-toolbar class="fondo">
    <ion-grid style="width: 95%">
      <ion-row>
        <ion-col>
          <div style="display: flex; justify-content: stretch">
            <h1>MK01</h1>
            <div>
              <ion-icon class="PRENDIDO"name="radio-button-on-outline"></ion-icon>
            </div>
          </div>
        </ion-col>
        <ion-col size="3">
          <h5 [routerLink]="['/historial']" style="margin-top: 31%; margin-right: 0%; color: #3880ff;">Historial <ion-icon style="position: absolute; padding-top: 1%;padding-left: 3%;" color="primary" name="chevron-forward-outline" size="small"></ion-icon></h5>
          
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="fondo">
  <div
    style="
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    "
  >
    <ion-grid style="width: 100%; --ion-grid-padding: 0px">
      <ion-row class="ion-justify-content-between">
        <ion-col>
          <h6 style="color: black; margin-left: 3%; font-weight: 500">
            Ultima vez regado
          </h6>
        </ion-col>
      </ion-row>
    </ion-grid>
    <ion-card class="counter">
      <ion-card-content class="counter-content">
        <div class="counter-row">
          <div class="counter-column">
            <div class="counter-value" *ngIf="horas < 10">0{{horas}}</div>
            <div class="counter-value" *ngIf="horas >= 10">{{horas}}</div>
            <div class="counter-label">Horas</div>
          </div>
          <div class="counter-column">
            <div class="counter-value" *ngIf="minutos < 10">0{{minutos}}</div>
            <div class="counter-value" *ngIf="minutos >= 10">{{minutos}}</div>
            <div class="counter-label">Minutos</div>
          </div>
        </div>
      </ion-card-content>
    </ion-card>

    <ion-card style="margin-bottom: 8%">
        <ion-img alt="Clima" [src]="rutaImg"></ion-img>

      <ion-card-header>
        <ion-card-title class="Soleado" *ngIf="clima_sol_lluvia">
          {{clima_sol_lluvia}}</ion-card-title
        >
      </ion-card-header>
    </ion-card>

    <ion-grid style="width: 100%">
      <ion-row>
        <ion-col size="9">
          <ion-button
            expand="block"
            (click)="menuRiego()"
            [ngClass]="{'agua-on': activo, 'agua-off': !activo}"
          >
            <ion-icon
              slot="start"
              name="water-outline"
              size="large"
              class="agua-boton"
            ></ion-icon>
            <div style="display: bloc; margin-left: 15%; width: 100%">
              <p>Sistema de riego</p>
              <sub
                [ngClass]="{'encendido-agua': activo, 'apagado-agua': !activo}"
                *ngIf="riego_on_off"
              >
                {{riego_on_off}}
              </sub>
            </div>
          </ion-button>
        </ion-col>
        <ion-col size="3">
          <ion-button (click)="riegoProgramado()" class="programable" expand="block">
            <ion-icon size="large" name="time-outline"> </ion-icon>
          </ion-button>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>
